#!/usr/bin/env python
from __future__ import absolute_import, division, print_function, unicode_literals
import sys
from config import App
import git, node


if len(sys.argv) != 1 + 4:
    print("deploy.py <app user> <app name> <source repo> <app_dir>")
    sys.exit(0)

app_user, app_name, source_repo, app_dir = sys.argv[1:]

app = App(app_user, app_name, source_repo, app_dir)

deployers = [git, node]
for deployer in deployers:
    deployer.deploy(app)
